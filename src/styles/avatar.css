.dc-avatar {
  position: relative;
  display: inline-grid;
  place-items: center;
  overflow: hidden;
  border-radius: 999px; /* circle by default */
  width: 40px; height: 40px;
  text-transform: uppercase;
  font-weight: 800;
  letter-spacing: .4px;
}
.dc-avatar.is-square { border-radius: 14px; }

.dc-avatar__img {
  width: 100%; height: 100%;
  object-fit: cover;
  opacity: 0;
  transition: opacity .18s ease;
}
.dc-avatar__img.is-loaded { opacity: 1; }
@media (prefers-reduced-motion: reduce) { .dc-avatar__img { transition: none !important; } }

.dc-avatar__fallback { opacity: .9; }

.dc-avatar__status {
  position: absolute;
  right: 2px;
  bottom: 2px;
  width: 12px; height: 12px;
  border-radius: 50%;
  box-shadow: 0 0 0 2px rgba(0,0,0,.25), 0 0 0 2px color-mix(in oklab, white 70%, transparent); /* edge ring */
  background: gray;
}
.dc-avatar__status.st-online { background: #22c55e; } /* emerald-500 */
.dc-avatar__status.st-away   { background: #f59e0b; } /* amber-500   */
.dc-avatar__status.st-busy   { background: #ef4444; } /* red-500     */
.dc-avatar__status.st-offline{ background: #9ca3af; } /* gray-400    */

@media (forced-colors: active){
  .dc-avatar__status { box-shadow: 0 0 0 2px Canvas; }
}